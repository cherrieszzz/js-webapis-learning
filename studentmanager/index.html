<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>student manager</title>
    <style>
        .container {
            max-width: 70%;
            margin: 0 auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <form action="" autocomplete="off">
            <label>姓名</label>
            <input type="text" class="name">

            <label>学号</label>
            <input type="text" class="stu-id">

            <label>年龄</label>
            <input type="text" class="age">

            <label>性别</label>
            <select name="gender" class="gender">
                <option value="男">男</option>
                <option value="女">女</option>
            </select>

            <label>薪资</label>
            <input type="text" class="salary">

            <label>城市</label>
            <select name="city" class="city">
                <option value="北京">北京</option>
                <option value="上海">上海</option>
                <option value="广州">广州</option>
                <option value="深圳">深圳</option>
            </select>

            <button class="btn" type="submit">提交</button>
        </form>

        <table>
            <thead>
            <tr>
                <th>学号</th>
                <th>姓名</th>
                <th>年龄</th>
                <th>性别</th>
                <th>薪水</th>
                <th>城市</th>
            </tr>
            </thead>

            <tbody  class="content">

            </tbody>

        </table>
    </div>

    <script>
        let array = [];
        let form = document.querySelector('form');
        let name = document.querySelector('.name');
        let stuId = document.querySelector('.stu-id');
        let age = document.querySelector('.age');
        let gender = document.querySelector('.gender');
        let salary = document.querySelector('.salary');
        let city = document.querySelector('.city');
        let content = document.querySelector('.content');

        function render() {
            content.innerHTML = ''
            let i = 0
            array.map((value, key) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                <td>${value.stuId}</td>
                <td>${value.name}</td>
                <td>${value.age}</td>
                <td>${value.gender}</td>
                <td>${value.salary}</td>
                <td>${value.city}</td>
                <td><button class=".delete" data-id="${i}">删除</button></td>
            `
                content.appendChild(row);
                i++;
            })
        }

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            let newStu = {
                stuId: stuId.value,
                name: name.value,
                age: age.value,
                gender : gender.value,
                salary: salary.value,
                city:city.value
            }
            array.push(newStu)
            console.log(array);
            render();
        })

        content.addEventListener('click', function (e) {
            if(e.target.tagName === 'BUTTON') {
                array.splice(parseInt(e.target.dataset.id), 1);
                render();
            }
        })
    </script>
</body>
</html>